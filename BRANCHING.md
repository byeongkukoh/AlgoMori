# Git 브랜치 전략

이 문서는 AlgoMori 저장소의 브랜치 역할과 협업 흐름을 정리합니다.

## 현재 브랜치 구성(관찰 기반)

이 저장소에는 `main`, `dev`, `docs` 3개의 장기 브랜치가 존재합니다.

- `main`
  - 기본(기준) 브랜치입니다.
  - PR merge 커밋들이 `main`의 1st-parent 히스토리에 남아 있으며, 태그(`v1.0.0`, `v1.1.0`, `v1.2.0`)가 릴리즈 단위로 사용되었습니다.
- `dev`
  - 코드/아키텍처 변경이 집중된 브랜치입니다.
  - 실제 히스토리에서 `dev`에서 작업 후 PR로 `main`에 병합된 이력이 있습니다(예: PR #10).
- `docs`
  - 문서 변경(예: `CHANGELOG.md`)을 별도로 다루기 위해 사용된 이력이 있습니다(예: PR #9).
  - `v1.2.0` 태그가 `docs`에서 생성된 merge commit에 붙어 있어, 문서/릴리즈 노트 갱신과 릴리즈 태깅이 함께 진행된 흔적이 있습니다.

또한 `README.md`에는 기여 흐름으로 **feature 브랜치 기반 PR** 방식이 안내되어 있습니다.

## 권장 워크플로우

### 1) 기능/코드 변경(일반 개발)

- 기준 브랜치: `dev`
- 흐름:
  1. `dev`에서 feature 브랜치 생성: `feature/<topic>`
  2. 작업 후 PR을 `dev`로 생성
  3. `dev`에서 변경이 안정화되면 PR을 `main`으로 생성하여 릴리즈 단위로 병합

`dev`를 통합 브랜치로 두면, `main`은 항상 “릴리즈 가능한 상태”를 유지하기 쉽습니다.

### 2) 문서 변경

- 기준 브랜치: `docs`
- 흐름:
  1. `docs`에서 docs 브랜치 생성: `docs/<topic>`
  2. 작업 후 PR을 `docs`로 생성
  3. 문서 변경을 릴리즈에 포함하려면 PR로 `docs` → `main`을 병합

> 문서 변경만 빠르게 반영하고 싶다면, 팀 합의 하에 `docs` PR을 직접 `main`으로 보내는 방식도 가능합니다.

### 3) 릴리즈(태그)

- 태그는 버전 스냅샷을 고정하기 위한 용도로 사용합니다.
- 권장:
  - `main`에서 릴리즈 PR이 병합된 커밋에 `vX.Y.Z` 태그를 생성
  - `CHANGELOG.md` 업데이트는 해당 릴리즈 PR에 포함

## 브랜치 동기화 규칙

이 저장소는 `main`을 기준으로 `dev`, `docs`가 **정기적으로 `main`을 따라가도록** 유지하는 것이 좋습니다.

- 원칙: `dev`, `docs`는 `main`을 **fast-forward로 추종**
- 방법(예시):
  - `git switch dev && git merge --ff-only main`
  - `git switch docs && git merge --ff-only main`

이 규칙을 지키면 장기 브랜치 드리프트가 줄고, PR 충돌을 최소화할 수 있습니다.
